{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"ESP32-C3 Filter Wheel Controller","text":"<p>A professional, open-source astronomy filter wheel controller built on the ESP32-C3 microcontroller. Features integrated OLED display, stepper motor control, magnetic encoder feedback, and full ASCOM compatibility for seamless integration with popular astronomy software.</p>"},{"location":"#key-features","title":"\u2728 Key Features","text":""},{"location":"#advanced-motor-control","title":"\ud83d\udd04 Advanced Motor Control","text":"<ul> <li>28BYJ-48 stepper motor with precise positioning</li> <li>Configurable speed, acceleration, and direction settings</li> <li>Backlash compensation for improved accuracy</li> <li>Automatic power management to reduce heat and power consumption</li> </ul>"},{"location":"#integrated-display","title":"\ud83d\udcdf Integrated Display","text":"<ul> <li>0.42\" OLED display (72x40 visible area)</li> <li>Real-time position and status information</li> <li>Filter name display with customizable labels</li> <li>Movement progress indication</li> </ul>"},{"location":"#precision-positioning","title":"\ud83c\udfaf Precision Positioning","text":"<ul> <li>AS5600 magnetic encoder for position feedback (optional)</li> <li>Revolution calibration for exact step counting</li> <li>Backlash calibration for mechanical compensation</li> <li>Multiple positioning modes (unidirectional/bidirectional)</li> </ul>"},{"location":"#full-configuration-control","title":"\ud83d\udd27 Full Configuration Control","text":"<ul> <li>3-8 filter positions configurable via commands</li> <li>Custom filter names up to 15 characters each</li> <li>Dynamic motor parameters without firmware recompilation</li> <li>Persistent EEPROM storage for all settings</li> </ul>"},{"location":"#ascom-compatible","title":"\ud83c\udf10 ASCOM Compatible","text":"<ul> <li>Complete ASCOM driver integration</li> <li>Serial protocol compatible with astronomy software</li> <li>NINA, PHD2, and other software support</li> <li>115200 baud serial communication</li> </ul>"},{"location":"#quick-start","title":"\ud83d\ude80 Quick Start","text":""},{"location":"#choose-your-configuration","title":"Choose Your Configuration","text":"<p>The controller supports two configurations - choose based on your needs and experience:</p> Configuration Best For Cost Complexity ULN2003 + 28BYJ-48 Beginners, Budget builds ~$25 Simple TMC2209 + NEMA17 Professional setups ~$80 Advanced"},{"location":"#assembly-process","title":"Assembly Process","text":"<ol> <li>Choose Configuration - Compare options and decide</li> <li>Hardware Requirements - Gather required components (see assembly guides)</li> <li>Assembly Guide - Follow your configuration-specific guide:</li> <li>ULN2003 Assembly</li> <li>TMC2209 Assembly</li> <li>Firmware Installation - Flash the ESP32-C3 (documentation coming soon)</li> <li>First Setup - Configure your filter wheel (documentation coming soon)</li> </ol>"},{"location":"#demo-video","title":"\ud83c\udfac Demo Video","text":""},{"location":"#specifications","title":"\ud83d\udccb Specifications","text":""},{"location":"#common-components","title":"Common Components","text":"Feature Specification Microcontroller ESP32-C3 (160MHz, WiFi, BLE) Display 0.42\" OLED SSD1306 (128x64, I2C) Encoder AS5600 magnetic (12-bit resolution, optional) Filters 3-8 positions (configurable) Communication USB Serial (115200 baud)"},{"location":"#motor-configurations","title":"Motor Configurations","text":"ULN2003 + 28BYJ-48TMC2209 + NEMA17 Feature Specification Motor 28BYJ-48 unipolar stepper Steps/Revolution 2048 (with internal gearing) Max Speed ~500 steps/second Power 5V, &lt;300mA Noise Level Moderate Precision \u00b10.2\u00b0 Cost ~$25 total Feature Specification Motor NEMA17 bipolar stepper Steps/Revolution 3200-51200 (microstepping) Max Speed &gt;5000 steps/second Power 12-24V, 1-3A Noise Level Near silent Precision \u00b10.05\u00b0 Cost ~$80 total"},{"location":"#supported-commands","title":"\ud83d\udee0\ufe0f Supported Commands","text":"<p>Over 50 serial commands for complete control:</p> Basic OperationsConfigurationCalibration <pre><code>#GP        # Get current position\n#MP3       # Move to position 3\n#STATUS    # Get system status\n</code></pre> <pre><code>#FC5       # Set 5 filters\n#SN1:Luminance  # Set filter name\n#MS1000    # Set motor speed\n</code></pre> <pre><code>#REVCAL    # Calibrate revolution\n#BLCAL     # Calibrate backlash\n#CAL       # Set home position\n</code></pre> <p>Command Reference - Over 50 serial commands for complete control (see CLAUDE.md for full list)</p>"},{"location":"#architecture-overview","title":"\ud83c\udfd7\ufe0f Architecture Overview","text":"<pre><code>graph TB\n    A[ESP32-C3 Controller] --&gt; B[ULN2003 Driver]\n    B --&gt; C[28BYJ-48 Stepper Motor]\n    C --&gt; D[Filter Wheel Assembly]\n    A --&gt; E[AS5600 Encoder]\n    E --&gt; D\n    A --&gt; F[0.42\" OLED Display]\n    A --&gt; G[USB Serial Interface]\n    G --&gt; H[ASCOM Driver]\n    H --&gt; I[Astronomy Software]\n    I --&gt; J[NINA/PHD2/etc.]</code></pre>"},{"location":"#why-choose-this-controller","title":"\ud83c\udf1f Why Choose This Controller?","text":""},{"location":"#professional-grade","title":"Professional Grade","text":"<p>Built with astronomy applications in mind, featuring robust error handling, comprehensive calibration, and professional serial protocol implementation.</p>"},{"location":"#open-source","title":"Open Source","text":"<p>Complete source code, documentation, and hardware designs available. MIT license allows commercial use and modifications.</p>"},{"location":"#extensible","title":"Extensible","text":"<p>Modular design allows easy addition of features like WiFi control, temperature sensors, or additional positioning modes.</p>"},{"location":"#community-driven","title":"Community Driven","text":"<p>Active development with community contributions, regular updates, and responsive support.</p>"},{"location":"#whats-included","title":"\ud83d\udce6 What's Included","text":"<ul> <li>Complete firmware source code (PlatformIO project)</li> <li>Comprehensive documentation (this site!)</li> <li>ASCOM driver for Windows integration</li> <li>3D printable enclosure designs (STL files)</li> <li>Wiring diagrams and assembly instructions</li> <li>Example configurations for common setups</li> </ul>"},{"location":"#community-support","title":"\ud83e\udd1d Community &amp; Support","text":"<ul> <li>GitHub Repository: Source code and issues</li> <li>Discord Community: Real-time chat and support</li> <li>Forum: CloudyNights thread</li> <li>Email: project@example.com</li> </ul>"},{"location":"#project-status","title":"\ud83d\udcc8 Project Status","text":"<ul> <li>\u2705 Stable Release - v1.0.0 available</li> <li>\ud83d\udd04 Active Development - Regular updates and improvements</li> <li>\ud83e\uddea Tested - Extensive field testing by astronomy community</li> <li>\ud83d\udcda Well Documented - Comprehensive guides and references</li> </ul> <p>Ready to build your own professional filter wheel controller? Get started with the Configuration Options!</p>"},{"location":"commands/basic/","title":"Basic Commands","text":"<p>These are the essential commands you'll use for everyday operation of your filter wheel controller.</p>"},{"location":"commands/basic/#position-control","title":"Position Control","text":""},{"location":"commands/basic/#get-current-position-gp","title":"Get Current Position - <code>GP</code>","text":"<p>Returns the current filter position.</p> CommandResponseExample <pre><code>#GP\n</code></pre> <pre><code>P3\n</code></pre> <pre><code>\u2192 #GP\n\u2190 P1\n# Filter wheel is currently at position 1\n</code></pre> <p>Use Cases: - Check position before planning moves - Verify movement completion - Status monitoring in automation scripts</p>"},{"location":"commands/basic/#move-to-position-mpx","title":"Move to Position - <code>MP[X]</code>","text":"<p>Moves the filter wheel to the specified position.</p> CommandParametersResponseExamples <pre><code>#MP[position]\n</code></pre> <ul> <li>position: Target position (1 to configured filter count)</li> </ul> <pre><code>M[position]\n</code></pre> <pre><code>\u2192 #MP3\n\u2190 M3\n# Moves to position 3\n\n\u2192 #MP1\n\u2190 M1\n# Moves to position 1 (Luminance filter)\n</code></pre> <p>Movement Behavior: - Unidirectional mode: Always moves in one direction (e.g., 1\u21922\u21923\u21924\u21925\u21921) - Bidirectional mode: Takes shortest path (e.g., 5\u21921 goes backward) - Movement is non-blocking - command returns immediately - Use <code>GP</code> to check when movement is complete</p> <p>Movement Optimization</p> <p>The controller automatically applies backlash compensation and uses your configured motor settings for optimal performance.</p>"},{"location":"commands/basic/#set-current-position-spx","title":"Set Current Position - <code>SP[X]</code>","text":"<p>Sets the current position without moving the motor. Used for manual positioning or correction.</p> CommandParametersResponseExamples <pre><code>#SP[position]\n</code></pre> <ul> <li>position: Position to set as current (1 to configured filter count)</li> </ul> <pre><code>S[position]\n</code></pre> <pre><code>\u2192 #SP1\n\u2190 S1\n# Current position is now set to 1\n\n\u2192 #SP4\n\u2190 S4\n# Current position is now set to 4\n</code></pre> <p>When to Use: - After manual rotation of the filter wheel - Correcting position after power-up - Recovery from missed steps or errors - Initial setup before calibration</p> <p>\u26a0\ufe0f Caution: Only use this command when you're certain of the physical position. Incorrect use can cause positioning errors.</p>"},{"location":"commands/basic/#system-status","title":"System Status","text":""},{"location":"commands/basic/#get-system-status-status","title":"Get System Status - <code>STATUS</code>","text":"<p>Returns comprehensive system information in a single command.</p> CommandResponse FormatResponse FieldsExamples <pre><code>#STATUS\n</code></pre> <pre><code>STATUS:POS=&lt;pos&gt;,MOVING=&lt;moving&gt;,CAL=&lt;calibrated&gt;,ANGLE=&lt;angle&gt;,ERROR=&lt;error&gt;\n</code></pre> <ul> <li>POS: Current position (1-8)</li> <li>MOVING: YES/NO - Is motor currently moving</li> <li>CAL: YES/NO - Is system calibrated</li> <li>ANGLE: Current encoder angle (if AS5600 available)</li> <li>ERROR: Error code (0 = no error)</li> </ul> <pre><code>\u2192 #STATUS\n\u2190 STATUS:POS=3,MOVING=NO,CAL=YES,ANGLE=180.5,ERROR=0\n# At position 3, not moving, calibrated, encoder at 180.5\u00b0, no errors\n\n\u2192 #STATUS\n\u2190 STATUS:POS=2,MOVING=YES,CAL=YES,ANGLE=90.2,ERROR=0\n# At position 2, currently moving, calibrated, no errors\n</code></pre> <p>Use Cases: - Comprehensive system health check - Automation scripts needing full status - Troubleshooting positioning issues - Verifying calibration state</p>"},{"location":"commands/basic/#system-control","title":"System Control","text":""},{"location":"commands/basic/#calibrate-home-position-cal","title":"Calibrate Home Position - <code>CAL</code>","text":"<p>Sets the current physical position as position 1 (home). This is essential for accurate positioning.</p> CommandResponseExample <pre><code>#CAL\n</code></pre> <pre><code>CALIBRATED\n</code></pre> <pre><code>\u2192 #CAL\n\u2190 CALIBRATED\n# Current position is now set as position 1\n</code></pre> <p>Calibration Process: 1. Manually position the filter wheel to your desired \"position 1\" 2. Send the <code>#CAL</code> command 3. System sets current location as position 1 4. All other positions are calculated relative to this point 5. If AS5600 encoder is present, angle offset is also stored</p> <p>Important</p> <p>Perform calibration with the filter wheel at the exact position you want as \"position 1\". This becomes the reference for all other positions.</p>"},{"location":"commands/basic/#emergency-stop-stop","title":"Emergency Stop - <code>STOP</code>","text":"<p>Immediately stops all motor movement. Use for emergency situations.</p> CommandResponseExample <pre><code>#STOP\n</code></pre> <pre><code>STOPPED\n</code></pre> <pre><code>\u2192 #STOP\n\u2190 STOPPED\n# All movement immediately halted\n</code></pre> <p>When to Use: - Emergency situations - Unexpected behavior during movement - Testing and development - Manual intervention needed</p> <p>Effects: - Motor stops immediately (no deceleration) - Current movement command is abandoned - Position may not be at exact filter location - Use <code>GP</code> to check final position after stop</p>"},{"location":"commands/basic/#device-information","title":"Device Information","text":""},{"location":"commands/basic/#get-device-identifier-id","title":"Get Device Identifier - <code>ID</code>","text":"<p>Returns the device identification string for ASCOM driver verification.</p> CommandResponseExample <pre><code>#ID\n</code></pre> <pre><code>DEVICE_ID:ESP32_FILTER_WHEEL_V1\n</code></pre> <pre><code>\u2192 #ID\n\u2190 DEVICE_ID:ESP32_FILTER_WHEEL_V1\n# Confirms device identity\n</code></pre>"},{"location":"commands/basic/#get-firmware-version-ver","title":"Get Firmware Version - <code>VER</code>","text":"<p>Returns the current firmware version.</p> CommandResponseExample <pre><code>#VER\n</code></pre> <pre><code>VERSION:1.0.0\n</code></pre> <pre><code>\u2192 #VER\n\u2190 VERSION:1.0.0\n# Running firmware version 1.0.0\n</code></pre>"},{"location":"commands/basic/#command-sequences","title":"Command Sequences","text":""},{"location":"commands/basic/#basic-operation-sequence","title":"Basic Operation Sequence","text":"<pre><code># 1. Check current status\n#STATUS\n\n# 2. Move to desired filter\n#MP3\n\n# 3. Verify position (wait for movement to complete)\n#GP\n\n# 4. Check system is ready\n#STATUS\n</code></pre>"},{"location":"commands/basic/#initial-setup-sequence","title":"Initial Setup Sequence","text":"<pre><code># 1. Identify device\n#ID\n\n# 2. Check firmware version\n#VER\n\n# 3. Set home position\n#CAL\n\n# 4. Verify calibration\n#STATUS\n\n# 5. Test movement\n#MP2\n#GP\n</code></pre>"},{"location":"commands/basic/#recovery-sequence","title":"Recovery Sequence","text":"<pre><code># 1. Stop any current movement\n#STOP\n\n# 2. Check system status\n#STATUS\n\n# 3. Manually position wheel to known location\n# (physical manipulation)\n\n# 4. Set correct position\n#SP1\n\n# 5. Re-calibrate if needed\n#CAL\n</code></pre> <p>Next Steps: - Configuration Commands - Customize your filter wheel settings - Calibration Commands - Achieve maximum precision - Error Codes - Understand error messages</p>"},{"location":"commands/overview/","title":"Command Reference Overview","text":"<p>The ESP32-C3 Filter Wheel Controller provides a comprehensive set of serial commands for complete control and configuration. All commands use a simple text-based protocol over USB serial at 115200 baud.</p>"},{"location":"commands/overview/#quick-start","title":"\ud83d\ude80 Quick Start","text":""},{"location":"commands/overview/#basic-command-format","title":"Basic Command Format","text":"<p>Commands follow a simple pattern: <pre><code>#COMMAND[parameters]\n</code></pre></p> <ul> <li>Prefix: <code>#</code> (optional but recommended)</li> <li>Command: Case-insensitive command name</li> <li>Parameters: Command-specific values in brackets or after colon</li> <li>Termination: Newline (<code>\\n</code>) or carriage return (<code>\\r</code>)</li> </ul>"},{"location":"commands/overview/#essential-commands","title":"Essential Commands","text":"<p>Get started with these fundamental commands:</p> <pre><code>#GP           # Get current position\n#MP3          # Move to position 3\n#STATUS       # Get complete system status\n#CAL          # Calibrate home position\n#STOP         # Emergency stop\n</code></pre>"},{"location":"commands/overview/#command-categories","title":"\ud83d\udcda Command Categories","text":"<p>The controller supports over 50 commands organized into logical categories:</p>"},{"location":"commands/overview/#basic-commands","title":"\ud83c\udfaf Basic Commands","text":"<p>Core movement and status commands</p> Command Description Example <code>GP</code> Get current position <code>#GP</code> \u2192 <code>P3</code> <code>MP[X]</code> Move to position <code>#MP2</code> \u2192 <code>M2</code> <code>SP[X]</code> Set position <code>#SP1</code> \u2192 <code>S1</code> <code>STATUS</code> System status <code>#STATUS</code> \u2192 <code>STATUS:POS=3,MOVING=NO...</code> <p>View All Basic Commands \u2192</p>"},{"location":"commands/overview/#configuration-commands","title":"\u2699\ufe0f Configuration Commands","text":"<p>System setup and parameter adjustment</p> Category Commands Examples Filter Setup <code>FC</code>, <code>GF</code>, <code>SN</code>, <code>GN</code> <code>#FC5</code>, <code>#SN1:Luminance</code> Motor Config <code>MS</code>, <code>MXS</code>, <code>MA</code>, <code>MDD</code> <code>#MS1000</code>, <code>#MA800</code> Direction <code>MDM</code>, <code>MRV</code>, <code>GDC</code> <code>#MDM1</code>, <code>#MRV0</code>"},{"location":"commands/overview/#calibration-commands","title":"\ud83d\udd27 Calibration Commands","text":"<p>Precision calibration and tuning</p> Type Commands Purpose Revolution <code>REVCAL</code>, <code>RCP</code>, <code>RCM</code>, <code>RCFIN</code> Calibrate steps per revolution Backlash <code>BLCAL</code>, <code>BLS</code>, <code>BLM</code>, <code>BLFIN</code> Compensate mechanical play Position <code>CAL</code> Set home reference"},{"location":"commands/overview/#advanced-commands","title":"\ud83d\udd2c Advanced Commands","text":"<p>Manual control and diagnostics</p> Function Commands Use Cases Manual Steps <code>SF</code>, <code>SB</code>, <code>ST</code>, <code>GST</code> Fine positioning, testing Motor Power <code>ME</code>, <code>MD</code> Manual power control System Info <code>ID</code>, <code>VER</code> Device identification"},{"location":"commands/overview/#common-workflows","title":"\ud83d\udd04 Common Workflows","text":""},{"location":"commands/overview/#first-time-setup","title":"First Time Setup","text":"<pre><code>#CAL              # Set home position\n#FC5              # Configure 5 filters\n#SN1:Luminance    # Set filter names\n#SN2:Red\n#SN3:Green\n#SN4:Blue\n#SN5:H-Alpha\n#STATUS           # Verify configuration\n</code></pre>"},{"location":"commands/overview/#motor-tuning","title":"Motor Tuning","text":"<pre><code>#GMC              # Get current motor config\n#MS800            # Set motor speed\n#MA600            # Set acceleration\n#MXS2000          # Set max speed\n#MDD2000          # Set disable delay\n#RMC              # Reset to defaults if needed\n</code></pre>"},{"location":"commands/overview/#precision-calibration","title":"Precision Calibration","text":"<pre><code>#REVCAL           # Start revolution calibration\n#RCP10            # Add 10 steps if needed\n#RCFIN            # Finish and save\n\n#BLCAL            # Start backlash calibration\n#BLS5             # Test with 5-step increments\n#BLM              # Mark movement detected\n#BLFIN            # Complete calibration\n</code></pre>"},{"location":"commands/overview/#communication-protocol","title":"\ud83d\udce1 Communication Protocol","text":""},{"location":"commands/overview/#serial-settings","title":"Serial Settings","text":"<ul> <li>Baud Rate: 115200</li> <li>Data Bits: 8</li> <li>Parity: None</li> <li>Stop Bits: 1</li> <li>Flow Control: None</li> </ul>"},{"location":"commands/overview/#response-format","title":"Response Format","text":"<p>All commands provide immediate responses:</p> Success ResponseError ResponseStatus Response <pre><code>Command: #MP3\nResponse: M3\n</code></pre> <pre><code>Command: #MP9\nResponse: ERROR:INVALID_POSITION\n</code></pre> <pre><code>Command: #STATUS\nResponse: STATUS:POS=3,MOVING=NO,CAL=YES,ANGLE=180.5,ERROR=0\n</code></pre>"},{"location":"commands/overview/#debug-mode","title":"Debug Mode","text":"<p>When <code>DEBUG_MODE</code> is enabled in firmware, additional diagnostic information is provided:</p> <pre><code>Command: #MP3\nResponse: M3\nDebug:   Moving from #1 (Luminance) to #3 (Green) - 818 steps = 2.00 positions, UNIDIRECTIONAL\nDebug:   Position reached: 3\n</code></pre>"},{"location":"commands/overview/#error-handling","title":"\u26a0\ufe0f Error Handling","text":"<p>The controller provides comprehensive error reporting:</p>"},{"location":"commands/overview/#common-error-types","title":"Common Error Types","text":"<ul> <li><code>ERROR:UNKNOWN_COMMAND</code> - Invalid command syntax</li> <li><code>ERROR:INVALID_POSITION</code> - Position out of range</li> <li><code>ERROR:INVALID_FORMAT</code> - Wrong parameter format</li> <li><code>ERROR:MOTOR_TIMEOUT</code> - Movement took too long</li> </ul>"},{"location":"commands/overview/#safety-features","title":"\ud83d\udee1\ufe0f Safety Features","text":""},{"location":"commands/overview/#movement-safety","title":"Movement Safety","text":"<ul> <li>Position validation prevents invalid moves</li> <li>Timeout protection stops runaway movements</li> <li>Emergency stop command immediately halts motion</li> <li>Power management prevents motor overheating</li> </ul>"},{"location":"commands/overview/#data-safety","title":"Data Safety","text":"<ul> <li>EEPROM storage preserves settings through power cycles</li> <li>Validation checks prevent invalid configurations</li> <li>Graceful error recovery maintains system stability</li> </ul>"},{"location":"commands/overview/#integration-examples","title":"\ud83d\udd17 Integration Examples","text":""},{"location":"commands/overview/#terminalcommand-line","title":"Terminal/Command Line","text":"<pre><code># Windows\necho #GP &gt; COM3\nmode COM3 BAUD=115200 PARITY=n DATA=8\n\n# Linux/Mac\necho \"#GP\" &gt; /dev/ttyUSB0\nstty -F /dev/ttyUSB0 115200\n</code></pre>"},{"location":"commands/overview/#python-integration","title":"Python Integration","text":"<pre><code>import serial\n\nser = serial.Serial('COM3', 115200, timeout=1)\nser.write(b'#GP\\n')\nresponse = ser.readline().decode().strip()\nprint(f\"Current position: {response}\")\n</code></pre>"},{"location":"commands/overview/#ascom-driver","title":"ASCOM Driver","text":"<p>The commands are wrapped by the ASCOM driver for seamless integration with astronomy software like NINA, PHD2, and others.</p>"},{"location":"commands/overview/#performance-characteristics","title":"\ud83d\udcca Performance Characteristics","text":""},{"location":"commands/overview/#command-response-times","title":"Command Response Times","text":"<ul> <li>Basic commands: &lt; 1ms</li> <li>Movement commands: Immediate acknowledgment</li> <li>Status queries: &lt; 5ms</li> <li>Configuration changes: &lt; 10ms (includes EEPROM write)</li> </ul>"},{"location":"commands/overview/#movement-specifications","title":"Movement Specifications","text":"<ul> <li>Position accuracy: \u00b10.1 degrees with encoder</li> <li>Repeatability: \u00b10.05 degrees</li> <li>Movement speed: 50-3000 steps/second (configurable)</li> <li>Acceleration: 50-2000 steps/second\u00b2 (configurable)</li> </ul> <p>Ready to explore specific commands? Choose a category:</p> <ul> <li>Basic Commands \u2192 - Start here for essential operations</li> </ul>"},{"location":"getting-started/assembly-tmc2209/","title":"TMC2209 + NEMA17 Assembly Guide","text":"<p>This guide covers assembling the professional-grade configuration using the TMC2209 silent stepper driver with NEMA17 bipolar stepper motor.</p>"},{"location":"getting-started/assembly-tmc2209/#prerequisites","title":"Prerequisites","text":"<p>Before starting, ensure you have: - \u2705 Read the Configuration Options guide - \u2705 Intermediate electronics experience - \u2705 Gathered all required components for TMC2209 configuration - \u2705 Good soldering skills and proper tools - \u2705 Multimeter and oscilloscope (recommended)</p>"},{"location":"getting-started/assembly-tmc2209/#wiring-diagram-reference","title":"Wiring Diagram Reference","text":""},{"location":"getting-started/assembly-tmc2209/#step-by-step-assembly","title":"Step-by-Step Assembly","text":""},{"location":"getting-started/assembly-tmc2209/#step-1-prepare-the-esp32-c3-board","title":"Step 1: Prepare the ESP32-C3 Board","text":"<ol> <li>Inspect and test the board as in the ULN2003 guide</li> <li>Verify UART capabilities:</li> <li>Ensure GPIO16 and GPIO17 are available</li> <li>Test basic UART communication if possible</li> </ol>"},{"location":"getting-started/assembly-tmc2209/#step-2-prepare-the-tmc2209-driver","title":"Step 2: Prepare the TMC2209 Driver","text":"<ol> <li>Inspect the TMC2209 board:</li> <li>Verify it's a genuine TMC2209 (not clone)</li> <li>Check for proper soldering of the TMC2209 chip</li> <li> <p>Note the pin layout (varies by manufacturer)</p> </li> <li> <p>Configure driver settings:</p> </li> <li>Microstepping: Default is usually 1/16</li> <li>Current setting: Adjust via UART (will be done in software)</li> <li>Address pins: Set if using multiple drivers</li> </ol> <p>Driver Quality</p> <p>TMC2209 clones may not support all features. For best results, use genuine Trinamic TMC2209 or quality boards like BTT TMC2209.</p>"},{"location":"getting-started/assembly-tmc2209/#step-3-control-signal-connections","title":"Step 3: Control Signal Connections","text":"<p>Connect the ESP32-C3 to TMC2209 control pins:</p> ESP32-C3 Pin TMC2209 Pin Function Notes GPIO2 STEP Step pulse Rising edge triggers step GPIO3 DIR Direction HIGH/LOW for direction GPIO4 EN Enable LOW to enable, HIGH to disable GPIO16 PDN_UART Power down/UART For configuration GPIO17 UART UART communication Bidirectional <p>Signal Quality</p> <ul> <li>Use short wires (&lt;15cm) for control signals</li> <li>Twisted pair for STEP/DIR if longer runs needed</li> <li>Keep away from motor power wires</li> </ul>"},{"location":"getting-started/assembly-tmc2209/#step-4-power-connections","title":"Step 4: Power Connections","text":""},{"location":"getting-started/assembly-tmc2209/#logic-power-33v5v","title":"Logic Power (3.3V/5V)","text":"ESP32-C3 Pin TMC2209 Pin Function 3.3V VCC_IO Logic power 5V VCC Logic power (alternative) GND GND Ground"},{"location":"getting-started/assembly-tmc2209/#motor-power-12-24v","title":"Motor Power (12-24V)","text":"<p>Connect your external power supply: | Power Supply | TMC2209 Pin | Function | |--------------|-------------|----------| | +12-24V | VM | Motor power | | GND | GND | Power ground |</p> <p>Power Supply Requirements</p> <ul> <li>Voltage: 12-24V (higher voltage = better performance)</li> <li>Current: Minimum 2A, 3A recommended for NEMA17</li> <li>Quality: Use switching supply with low ripple</li> <li>Protection: Fuse the motor power supply</li> </ul>"},{"location":"getting-started/assembly-tmc2209/#step-5-motor-connection","title":"Step 5: Motor Connection","text":"<p>Connect the NEMA17 bipolar stepper:</p>"},{"location":"getting-started/assembly-tmc2209/#standard-nema17-wiring","title":"Standard NEMA17 Wiring","text":"TMC2209 Pin Motor Wire Coil 2B Black Coil 2 2A Green Coil 2 1A Red Coil 1 1B Blue Coil 1 <p>Motor Wire Colors</p> <p>Wire colors vary by manufacturer. Measure coil resistance to identify pairs: - Coil 1: Usually Red-Blue (1-3\u03a9 resistance) - Coil 2: Usually Black-Green (1-3\u03a9 resistance) - Between coils: Open circuit (infinite resistance)</p>"},{"location":"getting-started/assembly-tmc2209/#step-6-display-and-encoder-connections","title":"Step 6: Display and Encoder Connections","text":"<p>Connect I2C devices exactly as in the ULN2003 guide: - OLED display on GPIO5 (SDA) and GPIO6 (SCL) - AS5600 encoder (optional) on same I2C bus - Use 3.3V power only for both devices</p>"},{"location":"getting-started/assembly-tmc2209/#step-7-advanced-tmc2209-configuration","title":"Step 7: Advanced TMC2209 Configuration","text":""},{"location":"getting-started/assembly-tmc2209/#current-setting-calculation","title":"Current Setting Calculation","text":"<pre><code>// Motor current = (Rsense * 2.5V) / (1.41 * 256)\n// For 0.11\u03a9 sense resistor and 800mA motor:\n// Current setting = (800mA * 256 * 1.41) / (2.5V / 0.11\u03a9) = ~12\n\n// This will be set via UART in firmware\n</code></pre>"},{"location":"getting-started/assembly-tmc2209/#microstepping-configuration","title":"Microstepping Configuration","text":"<pre><code>// Available options: 1, 2, 4, 8, 16, 32, 64, 128, 256\n// 16 microsteps = 3200 steps per revolution\n// 256 microsteps = 51200 steps per revolution (ultra-smooth)\n</code></pre>"},{"location":"getting-started/assembly-tmc2209/#step-8-software-configuration","title":"Step 8: Software Configuration","text":"<ol> <li> <p>Configure the firmware:    <pre><code>// In src/config.h:\n#define MOTOR_DRIVER_TMC2209      // Enable TMC2209 support\n\n// Verify pin assignments:\n#define MOTOR_STEP_PIN 2          // Step pulse\n#define MOTOR_DIR_PIN 3           // Direction\n#define MOTOR_ENABLE_PIN 4        // Enable\n#define MOTOR_RX_PIN 16           // UART RX\n#define MOTOR_TX_PIN 17           // UART TX\n#define MOTOR_MICROSTEPS 16       // Microstepping\n#define MOTOR_CURRENT_MA 800      // Motor current\n</code></pre></p> </li> <li> <p>Update motor parameters:    <pre><code>// High-performance settings for TMC2209:\n#define MAX_MOTOR_SPEED 2000.0    // Much faster than ULN2003\n#define MOTOR_ACCELERATION 1000.0 // Higher acceleration\n#define MOTOR_SPEED 1000.0        // Normal operating speed\n</code></pre></p> </li> </ol>"},{"location":"getting-started/assembly-tmc2209/#step-9-initial-testing","title":"Step 9: Initial Testing","text":"<ol> <li> <p>Power supply test:    <pre><code># Check voltages with multimeter:\n# - 12-24V at TMC2209 VM pin\n# - 3.3V or 5V at TMC2209 VCC_IO\n# - No shorts between power rails\n</code></pre></p> </li> <li> <p>UART communication test:    <pre><code># Upload firmware and check serial output for:\n# - TMC2209 initialization messages\n# - UART communication status\n# - Driver configuration confirmation\n</code></pre></p> </li> <li> <p>Motor movement test:    <pre><code># Test basic movement:\n#GP          # Get position\n#SF100       # Step forward 100 steps\n#SB100       # Step backward 100 steps\n</code></pre></p> </li> </ol>"},{"location":"getting-started/assembly-tmc2209/#step-10-tmc2209-feature-configuration","title":"Step 10: TMC2209 Feature Configuration","text":""},{"location":"getting-started/assembly-tmc2209/#silent-operation-stealthchop","title":"Silent Operation (StealthChop)","text":"<pre><code>// Enable in firmware for near-silent operation\n// Trade-off: Slightly reduced torque at high speeds\n</code></pre>"},{"location":"getting-started/assembly-tmc2209/#stall-detection","title":"Stall Detection","text":"<pre><code>// Configure stallGuard for automatic stall detection\n// Useful for automatic homing and protection\n</code></pre>"},{"location":"getting-started/assembly-tmc2209/#coolstep-current-reduction","title":"CoolStep (Current Reduction)","text":"<pre><code>// Automatically reduces current when motor load is low\n// Improves efficiency and reduces heat\n</code></pre>"},{"location":"getting-started/assembly-tmc2209/#performance-tuning","title":"Performance Tuning","text":""},{"location":"getting-started/assembly-tmc2209/#speed-optimization","title":"Speed Optimization","text":"<pre><code>// TMC2209 can handle much higher speeds:\n#define MAX_MOTOR_SPEED 5000.0      // 5000 steps/second\n#define MOTOR_ACCELERATION 2000.0   // Fast acceleration\n</code></pre>"},{"location":"getting-started/assembly-tmc2209/#precision-optimization","title":"Precision Optimization","text":"<pre><code>// Use high microstepping for ultimate precision:\n#define MOTOR_MICROSTEPS 64         // 12800 steps/revolution\n// or even:\n#define MOTOR_MICROSTEPS 256        // 51200 steps/revolution\n</code></pre>"},{"location":"getting-started/assembly-tmc2209/#power-optimization","title":"Power Optimization","text":"<pre><code>// Current reduction settings:\n// - Hold current: 50% of run current when stationary\n// - StealthChop: Enable for silent operation\n// - CoolStep: Automatic current adjustment\n</code></pre>"},{"location":"getting-started/assembly-tmc2209/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/assembly-tmc2209/#no-motor-movement","title":"No motor movement","text":"<ul> <li>Check power supply - Verify 12-24V at VM pin</li> <li>UART communication - Verify TMC2209 responds to configuration</li> <li>Enable signal - Ensure EN pin is LOW to enable driver</li> <li>Motor wiring - Verify coil connections and polarity</li> </ul>"},{"location":"getting-started/assembly-tmc2209/#noisy-operation","title":"Noisy operation","text":"<ul> <li>Disable StealthChop - May be unstable at certain speeds</li> <li>Adjust microstepping - Higher values generally quieter</li> <li>Check power supply - Ripple can cause noise</li> <li>Motor mounting - Mechanical resonance</li> </ul>"},{"location":"getting-started/assembly-tmc2209/#overheating","title":"Overheating","text":"<ul> <li>Reduce current - Lower MOTOR_CURRENT_MA setting</li> <li>Improve cooling - Add heatsink to TMC2209</li> <li>Check voltage - Higher voltage reduces heat for same power</li> <li>Enable CoolStep - Automatic current reduction</li> </ul>"},{"location":"getting-started/assembly-tmc2209/#uart-communication-failure","title":"UART communication failure","text":"<ul> <li>Check wiring - Verify RX/TX connections</li> <li>Baud rate - Ensure correct UART settings</li> <li>Driver address - Verify if multiple drivers used</li> <li>Power sequence - Power TMC2209 before UART init</li> </ul>"},{"location":"getting-started/assembly-tmc2209/#advanced-features","title":"Advanced Features","text":""},{"location":"getting-started/assembly-tmc2209/#multiple-tmc2209-drivers","title":"Multiple TMC2209 Drivers","text":"<p>If using multiple filter wheels: <pre><code>// Set different UART addresses\n// Configure each driver independently\n// Coordinate movements between wheels\n</code></pre></p>"},{"location":"getting-started/assembly-tmc2209/#closed-loop-operation","title":"Closed-Loop Operation","text":"<p>With AS5600 encoder: <pre><code>// Real-time position feedback\n// Automatic error correction\n// Stall detection and recovery\n</code></pre></p>"},{"location":"getting-started/assembly-tmc2209/#next-steps","title":"Next Steps","text":"<p>After successful assembly:</p> <ol> <li>Advanced Calibration - TMC2209-specific calibration with high-precision settings</li> <li>Performance Tuning - Optimize motor current, microstepping, and speed settings</li> <li>ASCOM Integration - Same serial protocol as ULN2003 configuration</li> </ol>"},{"location":"getting-started/assembly-tmc2209/#comparison-with-uln2003","title":"Comparison with ULN2003","text":"Feature ULN2003 TMC2209 Steps/revolution 2048 3200 (16\u03bc) to 51200 (256\u03bc) Max speed 500 steps/sec 5000+ steps/sec Noise level Moderate Near silent Power efficiency Poor Excellent Features Basic Advanced Setup complexity Simple Advanced <p>The TMC2209 configuration provides professional-grade performance with significantly enhanced capabilities over the basic ULN2003 setup.</p>"},{"location":"getting-started/assembly-uln2003/","title":"ULN2003 + 28BYJ-48 Assembly Guide","text":"<p>This guide covers assembling the budget-friendly configuration using the ULN2003 driver with 28BYJ-48 stepper motor.</p>"},{"location":"getting-started/assembly-uln2003/#prerequisites","title":"Prerequisites","text":"<p>Before starting, ensure you have: - \u2705 Read the Configuration Options guide - \u2705 Gathered all required components - \u2705 Basic soldering skills - \u2705 Multimeter for testing</p>"},{"location":"getting-started/assembly-uln2003/#wiring-diagram-reference","title":"Wiring Diagram Reference","text":""},{"location":"getting-started/assembly-uln2003/#step-by-step-assembly","title":"Step-by-Step Assembly","text":""},{"location":"getting-started/assembly-uln2003/#step-1-prepare-the-esp32-c3-board","title":"Step 1: Prepare the ESP32-C3 Board","text":"<ol> <li>Inspect the board for any obvious damage</li> <li>Test basic functionality:    <pre><code># Connect via USB and verify in device manager/terminal\n# Board should enumerate as USB device\n</code></pre></li> <li>Note pin locations - Compare with your specific board layout</li> </ol> <p>Pin Compatibility</p> <p>Different ESP32-C3 boards may have different pin layouts. Verify your board matches the expected GPIO assignments.</p>"},{"location":"getting-started/assembly-uln2003/#step-2-prepare-the-uln2003-driver","title":"Step 2: Prepare the ULN2003 Driver","text":"<ol> <li>Inspect the ULN2003 board:</li> <li>Check for cold solder joints</li> <li>Verify all components are properly seated</li> <li> <p>Look for the LED indicators (A, B, C, D)</p> </li> <li> <p>Test the driver (optional but recommended):</p> </li> <li>Connect 5V and GND</li> <li>Briefly touch IN1-IN4 to 5V - corresponding LEDs should light</li> </ol>"},{"location":"getting-started/assembly-uln2003/#step-3-motor-driver-connections","title":"Step 3: Motor Driver Connections","text":"<p>Connect the ESP32-C3 to ULN2003 following this pinout:</p> ESP32-C3 Pin ULN2003 Pin Wire Color Function GPIO2 IN1 Blue Motor phase A GPIO3 IN2 Green Motor phase B GPIO4 IN3 Yellow Motor phase C GPIO10 IN4 Orange Motor phase D 5V VCC Red Power supply GND GND Black Ground <p>Wiring Tips</p> <ul> <li>Use different colored wires for easy identification</li> <li>Keep control wires away from power wires</li> <li>Use solid core wire for breadboard connections</li> <li>Use stranded wire for final assembly</li> </ul>"},{"location":"getting-started/assembly-uln2003/#step-4-motor-connection","title":"Step 4: Motor Connection","text":"<ol> <li>Connect the 28BYJ-48 motor:</li> <li>The motor comes with a 5-pin JST connector</li> <li>Connect directly to the ULN2003 motor output</li> <li> <p>Ensure connector is fully seated</p> </li> <li> <p>Verify motor wiring:</p> </li> <li>The wire colors should match (usually Red center, then Blue, Pink, Yellow, Orange)</li> <li>If colors don't match, refer to your motor's datasheet</li> </ol>"},{"location":"getting-started/assembly-uln2003/#step-5-display-connection-i2c","title":"Step 5: Display Connection (I2C)","text":"<p>Connect the 0.42\" OLED display:</p> ESP32-C3 Pin OLED Pin Function GPIO5 SDA I2C Data GPIO6 SCL I2C Clock 3.3V VCC Power (3.3V only!) GND GND Ground <p>Voltage Warning</p> <p>The OLED display requires 3.3V, not 5V. Connecting 5V will damage the display permanently.</p>"},{"location":"getting-started/assembly-uln2003/#step-6-encoder-connection-optional","title":"Step 6: Encoder Connection (Optional)","text":"<p>If using the AS5600 magnetic encoder:</p> ESP32-C3 Pin AS5600 Pin Function GPIO5 SDA I2C Data (shared with OLED) GPIO6 SCL I2C Clock (shared with OLED) 3.3V VCC Power (3.3V only!) GND GND Ground <p>Magnet placement: - Position the diametric magnet 0.5-3mm above the AS5600 chip - Ensure the magnet rotates with the filter wheel - Center the magnet over the chip for best accuracy</p>"},{"location":"getting-started/assembly-uln2003/#step-7-power-supply-options","title":"Step 7: Power Supply Options","text":""},{"location":"getting-started/assembly-uln2003/#option-a-usb-power-simple","title":"Option A: USB Power (Simple)","text":"<ul> <li>Power everything through the ESP32-C3's USB connection</li> <li>Limitation: May not provide enough current for continuous operation</li> <li>Best for: Testing and light-duty use</li> </ul>"},{"location":"getting-started/assembly-uln2003/#option-b-external-5v-supply-recommended","title":"Option B: External 5V Supply (Recommended)","text":"<ul> <li>Use a 5V/2A wall adapter or bench supply</li> <li>Connect to ESP32-C3's VIN pin and ULN2003's VCC</li> <li>Best for: Reliable operation and continuous use</li> </ul>"},{"location":"getting-started/assembly-uln2003/#step-8-initial-testing","title":"Step 8: Initial Testing","text":"<ol> <li>Visual inspection:</li> <li>Check all connections against the diagram</li> <li>Ensure no short circuits</li> <li> <p>Verify proper wire routing</p> </li> <li> <p>Power-on test:    <pre><code># Connect power and verify:\n# - ESP32-C3 LED indicators\n# - OLED display shows content\n# - No smoke or unusual heat\n</code></pre></p> </li> <li> <p>Basic functionality test:    <pre><code># Upload firmware and test basic commands:\n#GP          # Should return current position\n#STATUS      # Should show system status\n#MP2         # Should move motor (if calibrated)\n</code></pre></p> </li> </ol>"},{"location":"getting-started/assembly-uln2003/#step-9-mechanical-assembly","title":"Step 9: Mechanical Assembly","text":"<ol> <li>Mount the motor:</li> <li>Secure the 28BYJ-48 to your filter wheel assembly</li> <li>Ensure proper alignment with the filter wheel axis</li> <li> <p>Use flexible coupling if needed to prevent binding</p> </li> <li> <p>Mount the electronics:</p> </li> <li>Install ESP32-C3 and ULN2003 in enclosure</li> <li>Route wires cleanly to avoid interference</li> <li> <p>Ensure adequate ventilation</p> </li> <li> <p>Install the encoder (if used):</p> </li> <li>Mount AS5600 board so the magnet passes over the sensor</li> <li>Verify 0.5-3mm air gap</li> <li>Test rotation through full range</li> </ol>"},{"location":"getting-started/assembly-uln2003/#step-10-software-configuration","title":"Step 10: Software Configuration","text":"<ol> <li> <p>Configure the firmware:    <pre><code>// In src/config.h, ensure this line is uncommented:\n#define MOTOR_DRIVER_ULN2003\n\n// Verify pin assignments match your wiring:\n#define MOTOR_PIN1 2    // Connected to ULN2003 IN1\n#define MOTOR_PIN2 3    // Connected to ULN2003 IN2\n#define MOTOR_PIN3 4    // Connected to ULN2003 IN3\n#define MOTOR_PIN4 10   // Connected to ULN2003 IN4\n</code></pre></p> </li> <li> <p>Build and upload:    <pre><code>pio run -t upload\n</code></pre></p> </li> <li> <p>Initial calibration:    <pre><code># Connect to serial monitor (115200 baud)\n#CAL         # Calibrate current position as home\n#MP2         # Test movement to position 2\n#GP          # Verify position\n</code></pre></p> </li> </ol>"},{"location":"getting-started/assembly-uln2003/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/assembly-uln2003/#motor-doesnt-move","title":"Motor doesn't move","text":"<ul> <li>Check power supply - ULN2003 needs adequate 5V current</li> <li>Verify wiring - Ensure all IN1-IN4 connections are correct</li> <li>Test driver - LEDs on ULN2003 should light during movement</li> <li>Check motor - Verify motor connector is fully seated</li> </ul>"},{"location":"getting-started/assembly-uln2003/#erratic-movement","title":"Erratic movement","text":"<ul> <li>Loose connections - Check all wire connections</li> <li>Power supply noise - Use decoupling capacitors</li> <li>Interference - Route control wires away from power wires</li> </ul>"},{"location":"getting-started/assembly-uln2003/#display-issues","title":"Display issues","text":"<ul> <li>Blank display - Check 3.3V power and I2C connections</li> <li>Partial display - Verify I2C address (usually 0x3C)</li> <li>No response - Ensure SDA/SCL aren't swapped</li> </ul>"},{"location":"getting-started/assembly-uln2003/#encoder-problems","title":"Encoder problems","text":"<ul> <li>No angle reading - Check magnet position and 3.3V power</li> <li>Erratic readings - Verify magnet distance (0.5-3mm)</li> <li>I2C conflicts - Ensure AS5600 and OLED have different addresses</li> </ul>"},{"location":"getting-started/assembly-uln2003/#performance-optimization","title":"Performance Optimization","text":""},{"location":"getting-started/assembly-uln2003/#motor-tuning","title":"Motor Tuning","text":"<pre><code>// In src/config.h, adjust these values:\n#define MOTOR_SPEED 300.0           // Steps per second\n#define MAX_MOTOR_SPEED 500.0       // Maximum speed\n#define MOTOR_ACCELERATION 200.0     // Acceleration\n</code></pre>"},{"location":"getting-started/assembly-uln2003/#movement-optimization","title":"Movement Optimization","text":"<ul> <li>Lower speeds reduce noise and improve reliability</li> <li>Higher acceleration provides faster movements</li> <li>Unidirectional mode prevents backlash issues</li> </ul>"},{"location":"getting-started/assembly-uln2003/#next-steps","title":"Next Steps","text":"<p>Once assembly is complete:</p> <ol> <li>Initial Setup - Configure filter names and positions using serial commands</li> <li>Calibration - Perform precision calibration with <code>#CAL</code> and <code>#REVCAL</code> commands</li> <li>ASCOM Integration - Connect to astronomy software using the serial protocol</li> </ol>"},{"location":"getting-started/assembly-uln2003/#upgrade-path","title":"Upgrade Path","text":"<p>This ULN2003 configuration can be easily upgraded to TMC2209 later by: 1. Updating <code>config.h</code> to use TMC2209 2. Rewiring according to the TMC2209 guide 3. Uploading new firmware - all other components remain the same</p>"},{"location":"getting-started/configuration-options/","title":"Configuration Options","text":"<p>The ESP32-C3 Filter Wheel Controller supports two different motor driver configurations, each with its own advantages and use cases.</p>"},{"location":"getting-started/configuration-options/#configuration-overview","title":"Configuration Overview","text":"Feature ULN2003 + 28BYJ-48 TMC2209 + NEMA17 Cost $8-15 $25-40 Complexity Beginner Intermediate Performance Good Excellent Noise Level Moderate Silent Precision \u00b10.2\u00b0 \u00b10.05\u00b0 Speed Up to 500 steps/sec Up to 5000 steps/sec Power 5V, &lt;300mA 12-24V, 1-3A"},{"location":"getting-started/configuration-options/#configuration-1-uln2003-28byj-48-recommended-for-beginners","title":"Configuration 1: ULN2003 + 28BYJ-48 (Recommended for Beginners)","text":""},{"location":"getting-started/configuration-options/#advantages","title":"Advantages","text":"<ul> <li>Low cost - Complete driver + motor kit for under $10</li> <li>Simple wiring - Direct GPIO connections</li> <li>5V operation - Can be powered from USB (with limitations)</li> <li>Easy to source - Available worldwide</li> <li>Proven design - Widely used in astronomy community</li> </ul>"},{"location":"getting-started/configuration-options/#disadvantages","title":"Disadvantages","text":"<ul> <li>Moderate noise - Audible stepping</li> <li>Limited speed - Maximum ~500 steps/second</li> <li>Less precision - Basic positioning without microstepping</li> <li>Power consumption - Motor stays energized</li> </ul>"},{"location":"getting-started/configuration-options/#best-for","title":"Best For","text":"<ul> <li>First-time builders</li> <li>Budget-conscious projects</li> <li>Educational use</li> <li>Small/lightweight filter wheels</li> <li>Desktop use where noise is acceptable</li> </ul>"},{"location":"getting-started/configuration-options/#components-required","title":"Components Required","text":"<ul> <li>ESP32-C3 development board</li> <li>ULN2003 driver board</li> <li>28BYJ-48 stepper motor (5V)</li> <li>0.42\" OLED display</li> <li>AS5600 encoder (optional)</li> <li>Basic wiring materials</li> </ul>"},{"location":"getting-started/configuration-options/#configuration-2-tmc2209-nema17-professional-grade","title":"Configuration 2: TMC2209 + NEMA17 (Professional Grade)","text":""},{"location":"getting-started/configuration-options/#advantages_1","title":"Advantages","text":"<ul> <li>Silent operation - Nearly inaudible stepping</li> <li>High precision - Microstepping up to 256 steps/full step</li> <li>Fast movement - Up to 5000+ steps/second</li> <li>Advanced features - Stall detection, current control</li> <li>Professional quality - Industrial-grade components</li> </ul>"},{"location":"getting-started/configuration-options/#disadvantages_1","title":"Disadvantages","text":"<ul> <li>Higher cost - $25-40 for driver + motor</li> <li>Complex wiring - Requires UART configuration</li> <li>Higher power - 12-24V supply needed</li> <li>Advanced setup - Requires more technical knowledge</li> </ul>"},{"location":"getting-started/configuration-options/#best-for_1","title":"Best For","text":"<ul> <li>Professional observatories</li> <li>High-precision applications</li> <li>Remote/robotic operation</li> <li>Low-noise environments</li> <li>Heavy filter wheels requiring more torque</li> </ul>"},{"location":"getting-started/configuration-options/#components-required_1","title":"Components Required","text":"<ul> <li>ESP32-C3 development board</li> <li>TMC2209 SilentStepStick</li> <li>NEMA17 bipolar stepper motor</li> <li>12-24V power supply (2A minimum)</li> <li>0.42\" OLED display</li> <li>AS5600 encoder (recommended)</li> <li>Professional wiring materials</li> </ul>"},{"location":"getting-started/configuration-options/#choosing-your-configuration","title":"Choosing Your Configuration","text":""},{"location":"getting-started/configuration-options/#choose-uln2003-28byj-48-if","title":"Choose ULN2003 + 28BYJ-48 if:","text":"<ul> <li>\u2705 You're new to electronics</li> <li>\u2705 Budget is under $50</li> <li>\u2705 Building a desktop setup</li> <li>\u2705 Want quick results</li> <li>\u2705 Noise isn't critical</li> </ul>"},{"location":"getting-started/configuration-options/#choose-tmc2209-nema17-if","title":"Choose TMC2209 + NEMA17 if:","text":"<ul> <li>\u2705 You have electronics experience</li> <li>\u2705 Budget allows $100+</li> <li>\u2705 Need silent operation</li> <li>\u2705 Require maximum precision</li> <li>\u2705 Building permanent observatory setup</li> </ul>"},{"location":"getting-started/configuration-options/#configuration-in-code","title":"Configuration in Code","text":"<p>To select your configuration, edit <code>src/config.h</code>:</p>"},{"location":"getting-started/configuration-options/#for-uln2003-configuration","title":"For ULN2003 Configuration:","text":"<pre><code>// Select motor driver type (uncomment only one)\n#define MOTOR_DRIVER_ULN2003    // ULN2003 with 28BYJ-48 stepper\n//#define MOTOR_DRIVER_TMC2209    // TMC2209 with NEMA17\n</code></pre>"},{"location":"getting-started/configuration-options/#for-tmc2209-configuration","title":"For TMC2209 Configuration:","text":"<pre><code>// Select motor driver type (uncomment only one)\n//#define MOTOR_DRIVER_ULN2003    // ULN2003 with 28BYJ-48 stepper\n#define MOTOR_DRIVER_TMC2209      // TMC2209 with NEMA17\n</code></pre> <p>The system will automatically configure pins, timing, and features based on your selection.</p>"},{"location":"getting-started/configuration-options/#next-steps","title":"Next Steps","text":"<p>Choose your configuration and proceed to the specific assembly guide:</p> <ul> <li>ULN2003 Assembly Guide - Step-by-step for beginners</li> <li>TMC2209 Assembly Guide - Professional configuration</li> </ul> <p>Both configurations share the same: - Firmware (automatically adapts) - ASCOM driver - Serial commands - Display interface - Optional encoder support</p>"},{"location":"getting-started/hardware/","title":"Hardware Requirements","text":"<p>This page details all the components needed to build your ESP32-C3 Filter Wheel Controller. Components are organized by priority, with alternatives and sourcing information provided.</p>"},{"location":"getting-started/hardware/#core-components-required","title":"\ud83d\udd27 Core Components (Required)","text":"<p>These components are essential for basic functionality:</p>"},{"location":"getting-started/hardware/#esp32-c3-development-board","title":"ESP32-C3 Development Board","text":"<p>The brain of your filter wheel controller</p> Specification Requirement Recommended Chip ESP32-C3 ESP32-C3-DevKitM-1 Flash Minimum 4MB 4MB or higher RAM 400KB (built-in) Standard USB USB-C preferred Native USB support GPIO Minimum 8 pins 13+ available pins Recommended BoardsWhere to Buy <ul> <li>Espressif ESP32-C3-DevKitM-1 - Official board, excellent support</li> <li>Seeed XIAO ESP32C3 - Ultra-compact form factor</li> <li>M5Stack STAMP-C3 - Integrated antenna, robust design</li> </ul> <ul> <li>AliExpress: $3-6 (longer shipping)</li> <li>Amazon: $8-12 (fast shipping)</li> <li>Mouser/DigiKey: $6-10 (authentic, reliable)</li> <li>Adafruit: $8-10 (excellent support)</li> </ul> <p>Board Selection</p> <p>Any ESP32-C3 board will work, but boards with USB-C and good pin labeling make development easier.</p>"},{"location":"getting-started/hardware/#28byj-48-stepper-motor-uln2003-driver","title":"28BYJ-48 Stepper Motor + ULN2003 Driver","text":"<p>Provides precise rotational movement</p> Specification Value Notes Type 28BYJ-48 Unipolar Stepper Industry standard Steps/Revolution 2048 (with gearbox) 64:1 internal gearing Voltage 5V or 12V versions 5V recommended Torque ~300 g\u22c5cm at 5V Sufficient for filter wheels Driver ULN2003 Darlington Array Usually included with motor Kit ContentsSourcing <p>Most kits include: - 28BYJ-48 stepper motor - ULN2003 driver board - 5-pin connector cable - Mounting screws</p> <ul> <li>AliExpress: $2-4 per kit</li> <li>Amazon: $8-12 for pack of 5</li> <li>Local electronics stores: $5-8 each</li> </ul> <p>Voltage Compatibility</p> <p>Ensure you get the 5V version of the motor, or use external 12V supply for 12V version.</p>"},{"location":"getting-started/hardware/#042-oled-display-ssd1306","title":"0.42\" OLED Display (SSD1306)","text":"<p>Provides real-time status display</p> Specification Requirement Notes Size 0.42 inch diagonal 72\u00d740 visible pixels Controller SSD1306 or compatible I2C interface required Voltage 3.3V operation ESP32-C3 compatible Interface I2C (4 pins: VCC, GND, SCL, SDA) Standard connection Display FeaturesAlternative Sizes <ul> <li>Resolution: 128\u00d764 pixels (72\u00d740 visible)</li> <li>Colors: Monochrome (white on black)</li> <li>Viewing angle: ~160 degrees</li> <li>Interface: I2C (address 0x3C)</li> </ul> <ul> <li>0.96\" - Larger, easier to read (requires code changes)</li> <li>1.3\" - Even larger option (requires code changes)</li> <li>0.42\" - Exact fit for compact designs (recommended)</li> </ul> <p>Cost: $3-8 depending on supplier and quantity</p>"},{"location":"getting-started/hardware/#precision-components-highly-recommended","title":"\ud83c\udfaf Precision Components (Highly Recommended)","text":""},{"location":"getting-started/hardware/#as5600-magnetic-rotary-encoder","title":"AS5600 Magnetic Rotary Encoder","text":"<p>Enables precise position feedback and calibration</p> Specification Value Benefits Resolution 12-bit (4096 positions/rev) Sub-degree accuracy Interface I2C (address 0x36) Easy integration Magnet 6mm diametrically magnetized Usually included Distance 0.5-3mm from magnet Flexible mounting Why Include This?Kit Contents <p>\u2705 Backlash calibration - Automatic mechanical compensation \u2705 Position verification - Confirms accurate positioning \u2705 Missed step detection - Recovers from motor errors \u2705 Sub-step accuracy - Better than stepper resolution</p> <ul> <li>AS5600 breakout board</li> <li>6mm diametric magnet</li> <li>Pin headers (may need soldering)</li> </ul> <p>Cost: $3-10 depending on supplier</p> <p>Optional but Recommended</p> <p>While not strictly required, the encoder significantly improves accuracy and enables advanced calibration features.</p>"},{"location":"getting-started/hardware/#connection-components","title":"\ud83d\udd0c Connection Components","text":""},{"location":"getting-started/hardware/#breadboard-or-perfboard","title":"Breadboard or Perfboard","text":"<p>For prototyping and permanent connections</p> Prototyping PhasePermanent Build <ul> <li>Half-size breadboard - Good for initial testing</li> <li>Full-size breadboard - More space for components</li> <li>Breadboard jumper wires - Various male-to-male, female-to-male</li> </ul> <ul> <li>Perfboard/stripboard - For soldered connections</li> <li>Custom PCB - Advanced option, not necessary</li> </ul> <p>Cost: $3-10 for breadboard setup, $5-15 for perfboard materials</p>"},{"location":"getting-started/hardware/#connecting-wires","title":"Connecting Wires","text":"<p>Various wire types for different connections</p> Connection Type Wire Type Length Quantity Breadboard Male-to-Male jumpers 10-20cm 20+ pieces Board-to-Board Female-to-Male jumpers 10-20cm 10+ pieces Power 22-24 AWG stranded 50cm 2 colors (red/black) Stepper Motor 5-pin connector Included with motor 1 piece <p>Cost: $5-10 for assorted wire kit</p>"},{"location":"getting-started/hardware/#enclosure-options","title":"\ud83c\udfe0 Enclosure Options","text":""},{"location":"getting-started/hardware/#3d-printed-enclosure","title":"3D Printed Enclosure","text":"<p>Custom-designed housing for your controller</p> Design Files ProvidedPrinting Requirements <ul> <li>STL files for direct 3D printing</li> <li>OpenSCAD source for customization</li> <li>Multiple variants for different configurations</li> </ul> <ul> <li>Material: PLA or PETG</li> <li>Layer height: 0.2mm</li> <li>Support: Minimal required</li> <li>Print time: 2-4 hours depending on size</li> </ul> <p>Cost: $2-5 in filament (if you have access to 3D printer)</p>"},{"location":"getting-started/hardware/#alternative-enclosures","title":"Alternative Enclosures","text":"Project BoxLaser Cut AcrylicDIY Solutions <ul> <li>Plastic electronics enclosure 100\u00d780\u00d740mm</li> <li>Cost: $8-15</li> <li>Pros: Professional appearance, readily available</li> <li>Cons: Requires drilling for connectors</li> </ul> <ul> <li>Clear or colored acrylic panels</li> <li>Cost: $10-20 (if you have laser cutter access)</li> <li>Pros: Clean appearance, customizable</li> <li>Cons: Requires access to laser cutter</li> </ul> <ul> <li>Cardboard prototype - Free, temporary solution</li> <li>Wooden box - Natural materials, customizable</li> <li>Repurposed enclosure - Cost-effective option</li> </ul>"},{"location":"getting-started/hardware/#power-options","title":"\u26a1 Power Options","text":""},{"location":"getting-started/hardware/#usb-power-recommended-for-most-users","title":"USB Power (Recommended for Most Users)","text":"<p>Simple and convenient power solution</p> <ul> <li>Source: USB-C cable from ESP32-C3 to computer/USB hub</li> <li>Voltage: 5V regulated by ESP32-C3 board</li> <li>Current: ~500mA maximum (sufficient for most operations)</li> <li>Pros: Simple, no additional components needed</li> <li>Cons: May not provide enough current for high-torque operations</li> </ul>"},{"location":"getting-started/hardware/#external-5v-supply-high-performance","title":"External 5V Supply (High Performance)","text":"<p>For demanding applications requiring more torque</p> Specification Requirement Voltage 5V \u00b15% Current Minimum 1A, 2A recommended Connector Barrel jack or screw terminals Regulation Switching supply preferred <p>When to Use: - Larger filter wheels requiring more torque - Continuous operation scenarios - Maximum movement speed requirements</p>"},{"location":"getting-started/hardware/#external-12v-supply-maximum-performance","title":"External 12V Supply (Maximum Performance)","text":"<p>For the highest torque and speed requirements</p> <p>Advanced Configuration</p> <p>Requires 12V version of 28BYJ-48 motor and voltage level conversion for ESP32-C3 (which operates at 3.3V).</p>"},{"location":"getting-started/hardware/#tools-required","title":"\ud83d\udee0\ufe0f Tools Required","text":""},{"location":"getting-started/hardware/#basic-tools-essential","title":"Basic Tools (Essential)","text":"<ul> <li>Soldering iron (temperature controlled preferred)</li> <li>Solder (60/40 or lead-free)</li> <li>Wire strippers for various wire gauges</li> <li>Small screwdrivers (Phillips and flathead)</li> <li>Multimeter for testing connections</li> </ul>"},{"location":"getting-started/hardware/#helpful-tools","title":"Helpful Tools","text":"<ul> <li>Breadboard for prototyping</li> <li>Desoldering braid for corrections</li> <li>Flux for easier soldering</li> <li>Heat shrink tubing for insulation</li> <li>Cable ties for wire management</li> </ul>"},{"location":"getting-started/hardware/#advanced-tools-optional","title":"Advanced Tools (Optional)","text":"<ul> <li>3D printer for custom enclosure</li> <li>Oscilloscope for advanced debugging</li> <li>Logic analyzer for protocol debugging</li> </ul>"},{"location":"getting-started/hardware/#complete-bill-of-materials","title":"\ud83d\udcb0 Complete Bill of Materials","text":""},{"location":"getting-started/hardware/#budget-build-25-35","title":"Budget Build (~$25-35)","text":"Component Quantity Unit Cost Total ESP32-C3 Board 1 $6 $6 28BYJ-48 + ULN2003 1 $4 $4 0.42\" OLED Display 1 $5 $5 Breadboard &amp; Wires 1 set $8 $8 Basic Enclosure 1 $5 $5 Budget Total ~$28"},{"location":"getting-started/hardware/#recommended-build-40-55","title":"Recommended Build (~$40-55)","text":"Component Quantity Unit Cost Total Previous items $28 AS5600 Encoder 1 $8 $8 External 5V Supply 1 $12 $12 Better Enclosure 1 $10 $10 Recommended Total ~$58"},{"location":"getting-started/hardware/#premium-build-70-90","title":"Premium Build (~$70-90)","text":"Component Quantity Unit Cost Total Previous items $58 Quality connectors 1 set $8 $8 Professional enclosure 1 $15 $15 Extra components $10 $10 Premium Total ~$91"},{"location":"getting-started/hardware/#sourcing-strategy","title":"\ud83d\uded2 Sourcing Strategy","text":""},{"location":"getting-started/hardware/#best-practices","title":"Best Practices","text":"<ol> <li>Start with basics - Get core components first, add encoder later</li> <li>Buy kits when available - Often cheaper than individual components</li> <li>Consider shipping - Consolidate orders to save on shipping costs</li> <li>Plan for spares - Get a few extra wires and connectors</li> </ol>"},{"location":"getting-started/hardware/#recommended-suppliers","title":"Recommended Suppliers","text":"For SpeedFor ValueFor Reliability <ul> <li>Amazon - Fast shipping, higher prices</li> <li>Adafruit - Quality components, great support</li> <li>SparkFun - Reliable, good documentation</li> </ul> <ul> <li>AliExpress - Lowest prices, slower shipping</li> <li>Banggood - Good compromise of price/speed</li> <li>LCSC - Electronic components specialist</li> </ul> <ul> <li>Mouser - Authentic components, premium pricing</li> <li>DigiKey - Extensive catalog, fast shipping</li> <li>Arrow - Professional supplier, bulk options</li> </ul> <p>Next Step: Once you have your components, proceed to the Assembly Guide (documentation coming soon)</p>"},{"location":"getting-started/overview/","title":"Getting Started Overview","text":"<p>Welcome to the ESP32-C3 Filter Wheel Controller project! This guide will walk you through everything needed to build and configure your own professional astronomy filter wheel.</p>"},{"location":"getting-started/overview/#what-youll-build","title":"\ud83d\udccb What You'll Build","text":"<p>By following this guide, you'll create a fully functional filter wheel controller featuring:</p> <ul> <li>Precision motor control with configurable speeds and acceleration</li> <li>Real-time OLED display showing current filter and status</li> <li>Magnetic encoder feedback for accurate positioning</li> <li>ASCOM compatibility for seamless software integration</li> <li>USB connectivity with comprehensive serial command interface</li> </ul>"},{"location":"getting-started/overview/#build-process-overview","title":"\ud83d\udee3\ufe0f Build Process Overview","text":"<p>The complete build process involves these main phases:</p>"},{"location":"getting-started/overview/#phase-1-planning-procurement","title":"Phase 1: Planning &amp; Procurement","text":"<p>Estimated time: 1-2 days</p> <ol> <li>Review Hardware Requirements - Understand all needed components</li> <li>Order Components - Source parts from suppliers</li> <li>Plan Your Build - Decide on enclosure and mounting options</li> </ol>"},{"location":"getting-started/overview/#phase-2-hardware-assembly","title":"Phase 2: Hardware Assembly","text":"<p>Estimated time: 2-4 hours</p> <ol> <li>Follow Assembly Guide - Step-by-step construction (documentation coming soon)</li> <li>Complete Wiring - Connect all electronic components (documentation coming soon)</li> <li>Test Basic Connectivity - Verify power and communication</li> </ol>"},{"location":"getting-started/overview/#phase-3-software-installation","title":"Phase 3: Software Installation","text":"<p>Estimated time: 30 minutes</p> <ol> <li>Install Firmware - Flash the ESP32-C3 controller (documentation coming soon)</li> <li>Verify Installation - Test basic commands via serial interface</li> <li>Initial Setup - Configure basic parameters (documentation coming soon)</li> </ol>"},{"location":"getting-started/overview/#phase-4-calibration-tuning","title":"Phase 4: Calibration &amp; Tuning","text":"<p>Estimated time: 1-2 hours</p> <ol> <li>Perform Calibrations - Revolution and backlash calibration (documentation coming soon)</li> <li>Configure Filters - Set names and positions (documentation coming soon)</li> <li>Tune Motor Parameters - Optimize performance (documentation coming soon)</li> </ol>"},{"location":"getting-started/overview/#phase-5-software-integration","title":"Phase 5: Software Integration","text":"<p>Estimated time: 30 minutes</p> <ol> <li>Install ASCOM Driver - Windows driver setup (documentation coming soon)</li> <li>Configure Astronomy Software - NINA, PHD2, etc. (documentation coming soon)</li> <li>Final Testing - Verify complete system operation</li> </ol>"},{"location":"getting-started/overview/#cost-estimate","title":"\ud83d\udcb0 Cost Estimate","text":"Component Category Estimated Cost Notes ESP32-C3 Board $5-10 Various suppliers available Stepper Motor &amp; Driver $5-15 28BYJ-48 + ULN2003 OLED Display $3-8 0.42\" SSD1306 AS5600 Encoder $3-10 Optional but recommended Miscellaneous Parts $5-15 Wires, resistors, breadboard Enclosure Materials $0-20 3D printed or custom *Total Estimated Cost* $21-78 Varies by supplier and options <p>Cost Saving Tips</p> <ul> <li>Buy components in bulk or kits when possible</li> <li>Check local electronics suppliers for better prices</li> <li>Consider using existing enclosure materials</li> <li>Start with basic version and add encoder later</li> </ul>"},{"location":"getting-started/overview/#required-skills","title":"\ud83d\udd27 Required Skills","text":"<p>This project is designed to be accessible to makers with basic electronics experience:</p>"},{"location":"getting-started/overview/#essential-skills","title":"Essential Skills \u2705","text":"<ul> <li>Basic soldering (through-hole components)</li> <li>Reading wiring diagrams</li> <li>Using terminal/command line software</li> <li>Following step-by-step instructions</li> </ul>"},{"location":"getting-started/overview/#helpful-skills","title":"Helpful Skills \ud83d\udca1","text":"<ul> <li>3D printing (for custom enclosure)</li> <li>Arduino/PlatformIO experience</li> <li>Basic electronics troubleshooting</li> <li>Astronomy equipment familiarity</li> </ul>"},{"location":"getting-started/overview/#not-required","title":"Not Required \u274c","text":"<ul> <li>SMD soldering</li> <li>PCB design</li> <li>Advanced programming</li> <li>Professional electronics experience</li> </ul>"},{"location":"getting-started/overview/#time-requirements","title":"\u23f1\ufe0f Time Requirements","text":"Phase Beginner Intermediate Advanced Planning 2 days 1 day Few hours Assembly 4 hours 2 hours 1 hour Software 1 hour 30 min 15 min Calibration 2 hours 1 hour 30 min Integration 1 hour 30 min 15 min Total ~10 hours ~5 hours ~2 hours <p>Times include learning, troubleshooting, and testing</p>"},{"location":"getting-started/overview/#success-criteria","title":"\ud83c\udfaf Success Criteria","text":"<p>By the end of this guide, your filter wheel controller should:</p> <ul> <li>[x] Respond to serial commands at 115200 baud</li> <li>[x] Move between filter positions accurately</li> <li>[x] Display current status on OLED screen</li> <li>[x] Remember settings after power cycling</li> <li>[x] Work with ASCOM driver in astronomy software</li> <li>[x] Complete calibration cycles successfully</li> </ul>"},{"location":"getting-started/overview/#getting-help","title":"\ud83c\udd98 Getting Help","text":"<p>If you encounter issues during your build:</p>"},{"location":"getting-started/overview/#documentation-resources","title":"Documentation Resources","text":"<ul> <li>Troubleshooting Guide - Common problems and solutions (documentation coming soon)</li> <li>Command Reference - Complete command documentation</li> <li>Error Codes - Diagnostic information (documentation coming soon)</li> </ul>"},{"location":"getting-started/overview/#community-support","title":"Community Support","text":"<ul> <li>GitHub Issues - Report bugs or ask technical questions</li> <li>Discord Channel - Real-time chat with other builders</li> <li>Forum Thread - CloudyNights community discussion</li> </ul>"},{"location":"getting-started/overview/#direct-contact","title":"Direct Contact","text":"<ul> <li>Email Support - For complex technical issues</li> <li>Video Consultation - Screen sharing for difficult problems</li> </ul>"},{"location":"getting-started/overview/#quick-start-checklist","title":"\ud83d\udcf1 Quick Start Checklist","text":"<p>Ready to begin? Use this checklist to track your progress:</p>"},{"location":"getting-started/overview/#pre-build-phase","title":"Pre-Build Phase","text":"<ul> <li>[ ] Read through all documentation</li> <li>[ ] Order all required components</li> <li>[ ] Prepare workspace and tools</li> <li>[ ] Download firmware and tools</li> </ul>"},{"location":"getting-started/overview/#build-phase","title":"Build Phase","text":"<ul> <li>[ ] Assemble hardware components</li> <li>[ ] Complete all wiring connections</li> <li>[ ] Install firmware on ESP32-C3</li> <li>[ ] Test basic functionality</li> </ul>"},{"location":"getting-started/overview/#configuration-phase","title":"Configuration Phase","text":"<ul> <li>[ ] Perform initial setup</li> <li>[ ] Complete motor calibration</li> <li>[ ] Configure filter settings</li> <li>[ ] Install ASCOM driver</li> </ul>"},{"location":"getting-started/overview/#testing-phase","title":"Testing Phase","text":"<ul> <li>[ ] Verify all commands work</li> <li>[ ] Test with astronomy software</li> <li>[ ] Document your configuration</li> <li>[ ] Celebrate your success! \ud83c\udf89</li> </ul> <p>Ready to start building? Let's begin with the Hardware Requirements \u2192</p>"}]}